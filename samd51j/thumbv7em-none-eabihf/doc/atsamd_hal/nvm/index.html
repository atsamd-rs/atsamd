<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Non-volatile Memory Controller"><title>atsamd_hal::nvm - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="atsamd_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../static.files/storage-3a5871a4.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../atsamd_hal/index.html">atsamd_<wbr>hal</a><span class="version">0.21.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module nvm</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#non-volatile-memory-controller" title="Non-volatile Memory Controller">Non-volatile Memory Controller</a></li></ul><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate atsamd_<wbr>hal</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">atsamd_hal</a></div><h1>Module <span>nvm</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/atsamd_hal/peripherals/nvm/mod.rs.html#1-942">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="non-volatile-memory-controller"><a class="doc-anchor" href="#non-volatile-memory-controller">§</a>Non-volatile Memory Controller</h2>
<p>This module allows users to interact with non-volatile memory controller.</p>
<p>Nvmctrl is an intermediary between memory buses and physical non-volatile
memory. It provides means of managing a flash memory content, its properties
(cache, wait states, bootloader blocks protection), power management and
address remapping if necessary (in case bank mechanism is used). It also
provides an indirection mechanism to achieve non-volatile RAM-like memory
within last sectors of a physical flash (More in <a href="smart_eeprom/index.html" title="mod atsamd_hal::nvm::smart_eeprom"><code>smart_eeprom</code></a> module).</p>
<p>NVM supports splitting flash into two sections (opt-in feature) called
banks. Bank considered active is mapped to <em>virtual</em> address <code>0x0</code>, meaning
it contains currently executed application. Through NVM command &amp; control
interface, banks can be swapped and MCU reset, so the firmware from the
other bank will run after restart.</p>
<p>Module features:</p>
<ul>
<li>Erase &amp; write over non-volatile memory in a device.</li>
<li>Swap banks</li>
</ul>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="smart_eeprom/index.html" title="mod atsamd_hal::nvm::smart_eeprom">smart_<wbr>eeprom</a></dt><dd>SmartEEPROM</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.CalibrationArea.html" title="struct atsamd_hal::nvm::CalibrationArea">Calibration<wbr>Area</a></dt><dd>POD-style struct representing NVM calibration area</dd><dt><a class="struct" href="struct.Nvm.html" title="struct atsamd_hal::nvm::Nvm">Nvm</a></dt><dd>Non-volatile memory controller</dd><dt><a class="struct" href="struct.RawUserpage.html" title="struct atsamd_hal::nvm::RawUserpage">RawUserpage</a></dt><dd>Raw userpage POD struct that exposes bitfields via methods</dd><dt><a class="struct" href="struct.TemperaturesCalibrationArea.html" title="struct atsamd_hal::nvm::TemperaturesCalibrationArea">Temperatures<wbr>Calibration<wbr>Area</a></dt><dd>POD-style struct representing NVM calibration area for
temperature calibration</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.Bank.html" title="enum atsamd_hal::nvm::Bank">Bank</a></dt><dd>Flash banks identified by which one we boot from.</dd><dt><a class="enum" href="enum.Error.html" title="enum atsamd_hal::nvm::Error">Error</a></dt><dd>Driver errors</dd><dt><a class="enum" href="enum.PeripheralError.html" title="enum atsamd_hal::nvm::PeripheralError">Peripheral<wbr>Error</a></dt><dd>Errors generated by the NVM peripheral</dd><dt><a class="enum" href="enum.PhysicalBank.html" title="enum atsamd_hal::nvm::PhysicalBank">Physical<wbr>Bank</a></dt><dd>Physical flash banks</dd><dt><a class="enum" href="enum.Prmselect.html" title="enum atsamd_hal::nvm::Prmselect">Prmselect</a></dt><dd>Power Reduction Mode during Sleep</dd><dt><a class="enum" href="enum.UserpageStatus.html" title="enum atsamd_hal::nvm::UserpageStatus">Userpage<wbr>Status</a></dt><dd>The outcome of <a href="struct.Nvm.html#method.modify_userpage" title="method atsamd_hal::nvm::Nvm::modify_userpage"><code>Nvm::modify_userpage</code></a></dd><dt><a class="enum" href="enum.WriteGranularity.html" title="enum atsamd_hal::nvm::WriteGranularity">Write<wbr>Granularity</a></dt><dd>Data written per command</dd></dl><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><dl class="item-table"><dt><a class="constant" href="constant.BLOCKSIZE.html" title="constant atsamd_hal::nvm::BLOCKSIZE">BLOCKSIZE</a></dt><dd>Size of one block</dd><dt><a class="constant" href="constant.PAGESIZE.html" title="constant atsamd_hal::nvm::PAGESIZE">PAGESIZE</a></dt><dd>Size of a page in bytes</dd><dt><a class="constant" href="constant.QUADWORDSIZE.html" title="constant atsamd_hal::nvm::QUADWORDSIZE">QUADWORDSIZE</a></dt><dd>Size of a quad word</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.retrieve_bank_size.html" title="fn atsamd_hal::nvm::retrieve_bank_size">retrieve_<wbr>bank_<wbr>size</a></dt><dd>Retrieve a bank size using HW registers</dd><dt><a class="fn" href="fn.retrieve_flash_size.html" title="fn atsamd_hal::nvm::retrieve_flash_size">retrieve_<wbr>flash_<wbr>size</a></dt><dd>Retrieve a total NVM size using HW registers</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><dl class="item-table"><dt><a class="type" href="type.Result.html" title="type atsamd_hal::nvm::Result">Result</a></dt><dd>NVM result type</dd><dt><a class="type" href="type.Userpage.html" title="type atsamd_hal::nvm::Userpage">Userpage</a></dt><dd>Type alias to the userpage with a concrete underlying storage type</dd></dl></section></div></main></body></html>